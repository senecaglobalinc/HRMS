<mat-card class="mb-2">
    <mat-card-content>
        <form [formGroup]="releaseForm">
            <div class="row">

                <div class="col-md-4">
                    <mat-form-field hideRequiredMarker="true" appearance={{themeConfigInput}}>
                        <mat-label>Employee
                            <span class="text-danger">*</span>
                        </mat-label>
                        <mat-select  formControlName="EmployeeId"
                            [(ngModel)]="releaseResource.employeeId" 
                            (selectionChange)="getProjectsByEmployeeId(releaseResource.employeeId)" required>
                            <mat-option *ngFor="let user of associatesList" [value]="user.value">
                                {{user.label}}</mat-option>
                        </mat-select>
                        <mat-error
                        *ngIf="releaseFormSubmitted && (releaseResource.employeeId==null || releaseResource.employeeId==undefined)">
                        <i style="color: red" class="fa fa-exclamation-circle"></i>
                        <span style="color: red">Employee is required.</span>
                    </mat-error>
                    </mat-form-field>
                    
                </div>


                <div class="col-md-4" *ngIf="hideTrainingProject">
                    <mat-form-field hideRequiredMarker="true" appearance={{themeConfigInput}}>
                        <mat-label for="ddlproject">Current Project
                            <span class="text-danger">*</span>
                        </mat-label>
                        <mat-select  formControlName="ProjectId" name="ddlProject"
                            [disabled]="disableddlProject" [(ngModel)]="releaseResource.ProjectId"
                            (selectionChange)="getAndfillProjectData(releaseResource.employeeId)" required>
                            <mat-option *ngFor="let proj of projectsList" [value]="proj.value">
                                {{proj.label}}</mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="releaseFormSubmitted && (releaseResource.ProjectId==null || releaseResource.ProjectId==undefined)">
                            <i style="color: red" class="fa fa-exclamation-circle"></i>
                            <span style="color: red">project is required.</span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-md-4" *ngIf="!hideTrainingProject">
                    <mat-form-field appearance={{themeConfigInput}}>
                        <!-- <mat-label for="ddlemployee">Current Project</mat-label> -->
                        <input name="trainingProject" placeholder="Training Project" matInput
                            [(ngModel)]="releaseResource.ProjectName">
                    </mat-form-field>
                </div>

                <div class="col-md-4">
                    <mat-form-field hideRequiredMarker="true" appearance={{themeConfigInput}}>
                        <mat-label>Release Date
                            <span class="text-danger">*</span>
                        </mat-label>
                        <input name="dtRelease" formControlName="ReleaseDate" [(ngModel)]="releaseResource.releaseDate" matInput (click)="picker.open()" style="cursor: pointer"
                            [matDatepicker]="picker" [min]="firstDate" [max]="lastDate" required readonly />
                        <mat-datepicker-toggle matSuffix *ngIf="releaseResource.releaseDate"
                            (click)="clearInput($event)">
                            <mat-icon matDatepickerToggleIcon>close</mat-icon>
                        </mat-datepicker-toggle>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error
                            *ngIf="releaseFormSubmitted && (releaseResource.releaseDate=='' || releaseResource.releaseDate==undefined)">
                            <i style="color: red" class="fa fa-exclamation-circle"></i>
                            <span style="color: red">Release Date is required.</span>
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="col-md-4" *ngIf="hideTrainingProject">
                    <mat-form-field hideRequiredMarker="true"  appearance={{themeConfigInput}}>
                        <mat-label>Releasing To
                            <!-- <span class="text-danger">*</span> -->
                        </mat-label>
                        
                        <input placeholder="Talent Pool" formControlName="talentpool" name="poolProject" matInput
                            [(ngModel)]="releaseResource.talentpool" class="disabled" readonly />
                        <!-- <mat-error
                            *ngIf="releaseFormSubmitted && (releaseResource.releaseProjectId==null || releaseResource.releaseProjectId==undefined) && !hideTrainingProject">
                            <i style="color: red" class="fa fa-exclamation-circle"></i>
                            <span style="color: red">Employee is required.</span>
                        </mat-error> -->
                    </mat-form-field>
                </div>

                <!-- <div class="col-md-4" *ngIf="!hideTrainingProject">
                    <mat-form-field appearance={{themeConfigInput}}>
                        <mat-label>Releasing To</mat-label>
                        <mat-select [ngModelOptions]="{standalone: true}" name="ddlTalentPool"
                            [(ngModel)]="releaseResource.talentpool"
                            (selectionChange)="getAndfillProjectData(releaseResource.employeeId)" required>
                            <mat-option *ngFor="let talentpool of talentpoolsList" [value]="talentpool.value">
                                {{talentpool.label}}</mat-option>
                        </mat-select>

                        <mat-error
                            *ngIf="releaseFormSubmitted && (releaseResource.releaseProjectId==null || releaseResource.releaseProjectId==undefined) && !hideTrainingProject">
                            <i style="color: red" class="fa fa-exclamation-circle"></i>
                            <span style="color: red">Employee is required.</span>
                        </mat-error>
                    </mat-form-field>
                </div> -->

                <!-- <div class="col-md-4">
                    <mat-form-field *ngIf="isEligiblePrimary" appearance={{themeConfigInput}}>
                        <mat-label>Releasing To</mat-label>
                        <mat-select [ngModelOptions]="{standalone: true}" name="ddlPrimary"
                            [(ngModel)]="releaseResource.MakePrimaryProjectId" required>
                            <mat-option *ngFor="let primary of remainingProjects" [value]="primary.value">
                                {{primary.label}}</mat-option>
                        </mat-select>

                        <mat-error
                            *ngIf="releaseFormSubmitted && (releaseResource.MakePrimaryProjectId==null || releaseResource.MakePrimaryProjectId==undefined)">
                            <i style="color: red" class="fa fa-exclamation-circle"></i>
                            <span style="color: red">primary is required.</span>
                        </mat-error>

                    </mat-form-field>
                </div> -->

                <div class="col-md-4">
                    <mat-checkbox formControlName="NotifyAll" name="notifyAll" [(ngModel)]="releaseResource.NotifyAll">&nbsp;Notify All
                    </mat-checkbox>
                </div>

                <div class="col-md-12 text-right">
                    <button (click)="Clear()" type="reset" mat-stroked-button>
                        <mat-icon>clear
                        </mat-icon>Clear
                    </button>

                    <button type="submit" (click)="submit()" mat-flat-button color="primary">
                        Release</button>
                </div>

            </div>
        </form>
    </mat-card-content>
</mat-card>